(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{342:function(s,e,_){"use strict";_.r(e);var v=_(2),t=Object(v.a)({},(function(){var s=this,e=s.$createElement,_=s._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[_("p",[s._v("first page in redis")]),s._v(" "),_("h1",{attrs:{id:"redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),_("h2",{attrs:{id:"_1-nosql-not-only-sql"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-nosql-not-only-sql"}},[s._v("#")]),s._v(" 1. NoSQL - Not Only SQL")]),s._v(" "),_("p",[_("strong",[s._v("MySQL")]),s._v("、"),_("strong",[s._v("Oracle")]),s._v("：关系型数据库")]),s._v(" "),_("p",[s._v("​          "),_("code",[s._v("结构化数据")]),s._v("：使用关系型数据库表示和存储，表现形式就是二维行列结构；")]),s._v(" "),_("p",[_("strong",[s._v("NoSQL")]),s._v("：存储非结构化和半结构化数据")]),s._v(" "),_("p",[s._v("​         "),_("code",[s._v("非结构化数据")]),s._v("：没有固定存储结构，文件、图片、音视频等")]),s._v(" "),_("p",[s._v("​         "),_("code",[s._v("半结构化数据")]),s._v("：可以认为是结构化数据的一种，只不过不是以二维行列形式存储，但是数据包含相关标记，比如JSON、xml；")]),s._v(" "),_("h2",{attrs:{id:"_1-1-nosql数据库种类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-nosql数据库种类"}},[s._v("#")]),s._v(" 1.1 NoSQL数据库种类")]),s._v(" "),_("p",[_("strong",[s._v("1. 列式数据库")])]),s._v(" "),_("p",[s._v("​    代表数据库：谷歌的BigTable，Apache的HBase")]),s._v(" "),_("p",[_("strong",[s._v("2. 文档数据库")])]),s._v(" "),_("p",[s._v("​    这种数据库存储半结构化数据：一般存储为json格式，这种数据库更接近关系型数据库；")]),s._v(" "),_("p",[s._v("​    代表数据库："),_("code",[s._v("MongoDB")]),s._v("、"),_("code",[s._v("ElasticSearch（ES）")]),s._v("、"),_("code",[s._v("CouchDB")])]),s._v(" "),_("p",[_("strong",[s._v("3. 图数据库")])]),s._v(" "),_("p",[s._v("​    并不是存储图片，而是存储数据间关系；")]),s._v(" "),_("p",[s._v("​    适合做社交网络、关系图谱")]),s._v(" "),_("p",[s._v("​    代表数据库："),_("code",[s._v("Neo4J")]),s._v("、"),_("code",[s._v("OrientDB")]),s._v(" "),_("strong",[s._v("4. 键值对数据库（Key-Value数据库）")])]),s._v(" "),_("p",[s._v("​    代表数据库："),_("code",[s._v("Redis")]),s._v("、"),_("code",[s._v("Memcache")])]),s._v(" "),_("h2",{attrs:{id:"_2-redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-redis"}},[s._v("#")]),s._v(" 2. Redis")]),s._v(" "),_("h3",{attrs:{id:"_2-1-redis概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-redis概述"}},[s._v("#")]),s._v(" 2.1 Redis概述")]),s._v(" "),_("ul",[_("li",[s._v("Redis是一个"),_("code",[s._v("键值对类型")]),s._v("的内存数据库")]),s._v(" "),_("li",[s._v("Redis支持字符串、哈希、列表、集合、带范围查询的有序集合等数据结构；")]),s._v(" "),_("li",[s._v("Redis具有内置的数据复制、回收、事务和不同级别的磁盘上的持久性；")]),s._v(" "),_("li",[s._v("Redis是纯内存操作，具备很高的读写性能，Redis读的速度是110000次/s，写的速度是81000次/s；")]),s._v(" "),_("li",[s._v("Redis的所有操作都是原子性的；")]),s._v(" "),_("li",[s._v("Redis支持主从模式的数据备份，数据可扩展性高；")]),s._v(" "),_("li",[s._v("Redis支持集群；")])]),s._v(" "),_("h3",{attrs:{id:"_2-2-redis的使用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-redis的使用场景"}},[s._v("#")]),s._v(" 2.2 Redis的使用场景")]),s._v(" "),_("p",[s._v("​    "),_("code",[s._v("Redis适合较小数据量的操作和运算")])]),s._v(" "),_("ol",[_("li",[_("strong",[s._v("缓存")]),s._v("：缓存一些常用数据、缓存Session会话等")]),s._v(" "),_("li",[_("strong",[s._v("排行榜")])]),s._v(" "),_("li",[_("strong",[s._v("简单的消息队列")])]),s._v(" "),_("li",[_("strong",[s._v("好友关系")]),s._v("：点赞、好友推荐等")])]),s._v(" "),_("h2",{attrs:{id:"_3-centos7安装单机版redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-centos7安装单机版redis"}},[s._v("#")]),s._v(" 3 centos7安装单机版Redis")]),s._v(" "),_("p",[s._v("​        Redis官方只提供了linux的安装版本，不提供windows的安装，但是微软使用Redis源码编译了一个windows的版的Redis安装包；")]),s._v(" "),_("p",[s._v("​        Redis官方网站："),_("code",[s._v("https://redis.io")])]),s._v(" "),_("p",[s._v("​        Redis所属公司：Pivotal（Spring所在的公司）")]),s._v(" "),_("p",[s._v("​        源码地址："),_("code",[s._v("https://github.com/antirez/redis")])]),s._v(" "),_("ol",[_("li",[_("p",[_("strong",[s._v("安装Development Tools")])]),s._v(" "),_("p",[_("code",[s._v('yum groupisntall -y "Development Tools"')])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("上传redis安装包，并解压到/opt目录下")])]),s._v(" "),_("p",[_("code",[s._v("tar -zxvf redis-5.0.7.tar.gz -C /opt")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("进入/opt/redis-5.0.7，执行make命令")])]),s._v(" "),_("p",[_("code",[s._v("[root@192 redis-5.0.7]# cd /opt/redis-5.0.7")]),s._v(" "),_("code",[s._v("[root@192 redis-5.0.7]# make")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("进入/opt/redis-5.0.7/src，执行make install")])]),s._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[s._v("[root@192 redis-5.0.7]# cd /opt/redis-5.0.7/src/\n[root@192 src]# make install\n\nHint: It's a good idea to run 'make test' ;)\n\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n")])]),s._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[s._v("1")]),_("br"),_("span",{staticClass:"line-number"},[s._v("2")]),_("br"),_("span",{staticClass:"line-number"},[s._v("3")]),_("br"),_("span",{staticClass:"line-number"},[s._v("4")]),_("br"),_("span",{staticClass:"line-number"},[s._v("5")]),_("br"),_("span",{staticClass:"line-number"},[s._v("6")]),_("br"),_("span",{staticClass:"line-number"},[s._v("7")]),_("br"),_("span",{staticClass:"line-number"},[s._v("8")]),_("br"),_("span",{staticClass:"line-number"},[s._v("9")]),_("br"),_("span",{staticClass:"line-number"},[s._v("10")]),_("br")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("修改redis安装目录下的redis.conf文件")])]),s._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[s._v("bind 127.0.0.1       注释文件中这一行\nprotected-mode no    将保护模式由yes修改为no\ndaemonize yes        将守护进程模式由no修改为yes\n")])]),s._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[s._v("1")]),_("br"),_("span",{staticClass:"line-number"},[s._v("2")]),_("br"),_("span",{staticClass:"line-number"},[s._v("3")]),_("br")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("启动Redis服务器端")])]),s._v(" "),_("p",[_("code",[s._v("/opt/redis-5.0.7/src/redis-server /opt/redis-5.0.7/redis.conf")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("启动redis客户端")])]),s._v(" "),_("p",[_("code",[s._v("/opt/redis-5.0.7/src/redis-cli [-a 密码] [-p 端口号(默认6379)]")])])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("使用客户端命令关闭Redis服务器")])]),s._v(" "),_("p",[_("code",[s._v("/opt/redis-5.0.7/src/redis-cli suhtdown")])])])]),s._v(" "),_("h2",{attrs:{id:"_5-redis的多数据库特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-redis的多数据库特点"}},[s._v("#")]),s._v(" 5. Redis的多数据库特点")]),s._v(" "),_("ul",[_("li",[_("p",[s._v("Redis默认支持"),_("code",[s._v("16个数据库")]),s._v("，以一个从0开始的递增数字命名")])]),s._v(" "),_("li",[_("p",[s._v("可以通过redis.conf中的"),_("code",[s._v("databases")]),s._v("配置")])])]),s._v(" "),_("p",[_("img",{attrs:{src:"C:%5CUsers%5Clenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582515808246.png",alt:"1582515808246"}})]),s._v(" "),_("ul",[_("li",[_("p",[s._v("客户端连接Redis服务后会自动选择0号数据库，可以通过"),_("code",[s._v("SELECT命令")]),s._v("更换数据库，例如选择15号数据库")]),s._v(" "),_("p",[_("img",{attrs:{src:"C:%5CUsers%5Clenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1582515894197.png",alt:"1582515894197"}})])]),s._v(" "),_("li",[_("p",[s._v("Redis多数据库特点")]),s._v(" "),_("ol",[_("li",[_("p",[s._v("不支持自定义数据库名称。")])]),s._v(" "),_("li",[_("p",[s._v("不支持为每个数据库设置访问密码。")])]),s._v(" "),_("li",[_("p",[s._v("多个数据库之间不是完全隔离的，FLUSHALL命令会清空所有数据库的数据。")])]),s._v(" "),_("li",[_("p",[s._v("多数据库不适用存储不同应用的数据。")])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("Redis集群")]),s._v("不支持多数据库。")])])])])]),s._v(" "),_("h2",{attrs:{id:"_6-redis常用的全局命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-redis常用的全局命令"}},[s._v("#")]),s._v(" 6. Redis常用的全局命令")]),s._v(" "),_("ol",[_("li",[_("p",[_("code",[s._v("keys *")]),s._v("：查看所有的键，支持通配符查询，如："),_("code",[s._v("keys name*")])])]),s._v(" "),_("li",[_("p",[_("code",[s._v("exists key")]),s._v("：测试是否存在执行的key，存在返回1，不存在返回0")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("ttl key")]),s._v("：查看key的剩余有效时间，"),_("code",[s._v("-1")]),s._v("代表永不过期，"),_("code",[s._v("-2")]),s._v("表示key已经过期")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("expire key seconds")]),s._v("：设置key的过期时间，单位是秒")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("del key")]),s._v("：删除某个key")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("rename key newkey")]),s._v("：修改key的名称")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("flushall")]),s._v("：清空所有数据（会跨库清空数据）")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("info [section]")]),s._v("：查看数据信息，info Server，info CPU、info Replication")])]),s._v(" "),_("li",[_("p",[_("code",[s._v("persist key")]),s._v("：取消key的过期时间")])])]),s._v(" "),_("h2",{attrs:{id:"_7-redis5-0新特性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-redis5-0新特性"}},[s._v("#")]),s._v(" 7. Redis5.0新特性")]),s._v(" "),_("ol",[_("li",[_("p",[_("strong",[s._v("新增stream数据类型。")])])]),s._v(" "),_("li",[_("p",[s._v("新的Redis模块API：Timers和Cluster API。")])]),s._v(" "),_("li",[_("p",[s._v("RDB现在存储LFU(最近最少使用)和LRU(最近不经长使用)信息。")])]),s._v(" "),_("li",[_("p",[_("strong",[s._v("集群管理器从Ruby移植到了C。")])])]),s._v(" "),_("li",[_("p",[s._v("新的sorted set命令：ZPOPMIN/MAX和阻塞变种。")])]),s._v(" "),_("li",[_("p",[s._v("升级了主动碎片整理。")])]),s._v(" "),_("li",[_("p",[s._v("增强HyperLogLog实现")])]),s._v(" "),_("li",[_("p",[s._v("完善内存报告。")])]),s._v(" "),_("li",[_("p",[s._v("许多带有子命令的命令有了一个HELP子命令。")])]),s._v(" "),_("li",[_("p",[s._v("客户经常连接和断开连接时性能更好。")])]),s._v(" "),_("li",[_("p",[s._v("修复了错误和改进。")])]),s._v(" "),_("li",[_("p",[s._v("Jemalloc内存分配器升级到了5.1。")])])]),s._v(" "),_("h2",{attrs:{id:"_8-redis的数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-redis的数据类型"}},[s._v("#")]),s._v(" 8. Redis的数据类型")]),s._v(" "),_("h3",{attrs:{id:"_8-1-string类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-string类型"}},[s._v("#")]),s._v(" 8.1 String类型")]),s._v(" "),_("p",[s._v("​        String类型是redis中最基本的类型，它是包含了很多种类型的特殊类型，并且是二进制的安全的，可以存储序列化的对象、图片的二进制存储、一个简单的字符串、数值等。一个字符串类型键允许存储的数据最大容量是512MB。")]),s._v(" "),_("p",[s._v("​        "),_("strong",[s._v("特别注意")]),s._v("："),_("code",[s._v("mset")]),s._v("、"),_("code",[s._v("mget")]),s._v("在集群环境下无法使用；")]),s._v(" "),_("h3",{attrs:{id:"_8-2-hash类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-hash类型"}},[s._v("#")]),s._v(" 8.2 Hash类型")]),s._v(" "),_("p",[s._v("​        hash是一个String类型的field和value的映射表。hash特别适合用于存储对象，相对于将对象序列化存储为String类型，将一个对象存储在hash类型中会占用更少的内存，且可以方便的操作对象。")]),s._v(" "),_("h3",{attrs:{id:"_8-3-list类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-list类型"}},[s._v("#")]),s._v(" 8.3 list类型")]),s._v(" "),_("p",[s._v("​        list是一个链表结构，类似JDK的LinkedList、Queue，主要功能是push、pop、获取一个范围的所有值等等，key可以认为链表的名称。list类型的每个子元素都是string类型的"),_("strong",[s._v("双向链表")]),s._v("。我们可以通过push、pop操作从链表的头部或者尾部添加删除元素；")]),s._v(" "),_("h3",{attrs:{id:"_8-4-set类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-set类型"}},[s._v("#")]),s._v(" 8.4 Set类型")]),s._v(" "),_("p",[s._v("​       set是集合，它是string类型的无序不可重复集合。Set是通过hash table实现的，添加、删除和查找的复杂度都是o(1)。对set我们可以取并集、交集、差集。通过set的这些操作我们可以实现好友推荐功能。")]),s._v(" "),_("h3",{attrs:{id:"_8-5-zset类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-zset类型"}},[s._v("#")]),s._v(" 8.5 Zset类型")]),s._v(" "),_("p",[s._v("​        zset有序集合，类似SortedSet.")])])}),[],!1,null,null,null);e.default=t.exports}}]);